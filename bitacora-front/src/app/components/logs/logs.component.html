<!--<main class="container-fluid"> 
    <div class="row justify-content-center align-items-md-center" id="viewport">
        <div class="col-12">
            <table class="table table-hover table-responsive border border-danger shadow table-text text-center">
                <caption class="text-start mx-4">Listado de Soportes</caption>
                <thead>
                    <tr>
                        <th scope="col">Analista</th>
                        <th scope="col">N°</th>
                        <th scope="col">nombre y apellido</th>
                        <th scope="col">fecha</th>
                        <th scope="col">departamento</th>
                        <th scope="col">descripcion/problema </th>
                        <th scope="col">nombre del equipo</th>
                        <th scope="col">numero del bien</th>
                        <th scope="col">ult fecha de mant</th>
                        <th scope="col">estado</th>
                        <th scope="col" *ngIf = "show != true">-</th>
                    </tr>
                </thead>
                <tbody *ngIf="reports">
                    <tr *ngFor="let report of reports ; index as i">
                        th scope="row">{{userName}}</th>
                        <th scope="row">{{i+1}}</th>
                        <td>{{report.name}}</td>
                        <td>{{report.date}}</td>
                        <td>{{report.department}}</td>
                        <td>{{report.problemDescription}}</td>
                        <td>{{report.toolName}}</td>
                        <td>{{report.toolNumber}}</td>
                        <td>{{report.lastDate}}</td>
                        <td>{{report.status}}</td>
                        <td *ngIf = "show != true"><
                            <button type="button" class="btn btn-outline-danger btn-sm" [routerLink]="['/details',report._id]">Detalles</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div *ngIf="!reports" class="text-muted text-center  mb-4">
            El analista {{userName}} no ha registrado ningun soporte
        </div>
        <div class="col-6 justify-content-center text-center" *ngIf="show == true">
            <span class="mt-1">
                <button type="button" class="btn text-danger  btn-sm botonVolver" [routerLink]="['/analistas']">Volver</button>
            </span>
        </div>
    </div>
</main>-->

<div class="container-fluid mb-1"> 
    <div id="viewport">
        <div class='container justify-content-center' *ngIf="show != true">
            <p class='text-center fs-3 text-danger'>
                Analista: {{userName | titlecase}}
            </p>
            <hr>
        </div>
        <div class='container justify-content-center' *ngIf="show == true">
            <p class='text-center fs-3 text-danger'>
                Soportes Realizados por el Analista: {{userName | titlecase}}
            </p>
            <hr>
        </div>
        <div class = 'mat-elevation-z8'>
            <table mat-table [dataSource]="dataSource" matSort class='text-start the-table'>
                <!-- Position Column -->
                <ng-container matColumnDef="position">
                <th mat-header-cell *matHeaderCellDef class="m-5"> N°&nbsp; </th>
                <td mat-cell *matCellDef="let element; index as i"> {{ i+1 }} </td>
                </ng-container>
            
                <!-- Name Column -->
                <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre y Apellido </th>
                <td mat-cell *matCellDef="let element"> {{ element.name | titlecase }} </td>
                </ng-container>
            
                <!-- date Column -->
                <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Fecha </th>
                <td mat-cell *matCellDef="let element"> {{ element.date }} </td>
                </ng-container>
            
                <!-- department Column -->
                <ng-container matColumnDef="department">
                <th mat-header-cell *matHeaderCellDef> Departamento </th>
                <td mat-cell *matCellDef="let element"> {{ element.department | titlecase }} </td>
                </ng-container>

                <!-- problemDescription Column -->
                <ng-container matColumnDef="problemDescription">
                <th mat-header-cell *matHeaderCellDef> Descripcion/Problema </th>
                <td mat-cell *matCellDef="let element"> {{ element.problemDescription }} </td>
                </ng-container>

                <!-- toolName Column -->
                <ng-container matColumnDef="toolName">
                <th mat-header-cell *matHeaderCellDef> Herramienta/Bien </th>
                <td mat-cell *matCellDef="let element"> {{ element.toolName }} </td>
                </ng-container>

                <!-- toolNumber Column -->
                <ng-container matColumnDef="toolNumber">
                    <th mat-header-cell *matHeaderCellDef> Numero del bien </th>
                    <td mat-cell *matCellDef="let element"> {{ element.toolNumber }} </td>
                </ng-container>

                <!-- lastDate Column -->
                <ng-container matColumnDef="lastDate">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Ult. Fecha sop </th>
                    <td mat-cell *matCellDef="let element"> {{ element.lastDate }} </td>
                </ng-container>

                <!-- status Column -->
                <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef> Estatus </th>
                    <td mat-cell *matCellDef="let element"> {{ element.status }} </td>
                </ng-container>
                
                <!-- details Column -->
                
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr 
                mat-row
                (click)="details(row._id)"
                *matRowDef="let row; columns: displayedColumns;">
                </tr>

            </table>
            <mat-paginator [length]="100"
                [pageSize]="5"
                [pageSizeOptions]="[5, 10, 25, 100, 200]"
                aria-label="Select page of dataSource" class='bg-danger'>
            </mat-paginator>
        </div>
    </div>
</div>
<div>
    <p *ngFor ='let clickedRow of clickedRows'>
        {{clickedRow.name}}
    </p>
</div>
<!--for admins -->
<div  class="text-muted text-center mb-4" *ngIf="!reports">
    El analista {{userName}} no ha registrado ningun soporte
</div>
<div class="text-muted text-center mb-5" *ngIf="show == true">
    <span class="mt-1">
        <button type="button" class="btn text-danger  btn-sm botonVolver  gap-2 col-1 text-decoration" [routerLink]="['/analistas']">Volver</button>
    </span>
</div>
<div class="clearfix text-white">...</div>